<html>
	<head>
        <title>CIT Project</title>
        <link rel="stylesheet" href="../css/master.css" type="text/css">
        <!--CIT logo-->
        <link rel="icon" href="https://raw.githubusercontent.com/0ddSh33p/CitProjectsSiteBeta/main/css/cit_logo.png">
	</head>
	<body>
        <header>
            <h1>Student</h1>
            <!--CIT logo-->
            <img id="headImg" src="https://raw.githubusercontent.com/0ddSh33p/CitProjectsSiteBeta/main/css/cit_logo.png" height="75px" width="75px">
        </header>
        <section>
            <!--ui box for when student wants to logout-->
            <div id="logout_box" class="logout-box">
                <label id="logout_label">Are you sure you want to logout?</label><br><br>
                <button onclick="logout()" id="logout_confirm" class="button logout_button">Logout</button>
                <button onclick="log_cancel()" id="logout_cancel" class="button logout_cancel">Cancel</button>
            </div>
            <!--script for making the logout box disappear when cancel is pressed-->
            <script>
                function log_cancel() {
                    var logbox = document.getElementById('logout_box');
                    logbox.style.display='none';
                    console.log("logout box is not visible")
                }
            </script>
            <!--This is where the projects start-->
            <div id="project">
                <button class="project_tile">Project Placeholder</button>
            </div>
            <div id="project">
                <button class="project_tile">Project Placeholder</button>
            </div>
            <div id="project">
                <button class="project_tile">Project Placeholder</button>
            </div>
            <div id="project">
                <button class="project_tile">Project Placeholder</button>
            </div>
            <div id="project">
                <button class="project_tile">Project Placeholder</button>
            </div>
            <div id="project">
                <button class="project_tile">Project Placeholder</button>
            </div>
            <div id="project">
                <button class="project_tile">Project Placeholder</button>
            </div>
            <div id="project">
                <button class="project_tile">Project Placeholder</button>
            </div>
            <div id="project">
                <button class="project_tile">Project Placeholder</button>
            </div>
            <div id="project">
                <button class="project_tile">Project Placeholder</button>
            </div>
            <div id="project">
                <button class="project_tile">Project Placeholder</button>
            </div>
            <!--Spaces at the end of the page so that it's possible to scroll down to the bottom of the page and not have the buttons covered up by the footer-->
            <p class="prevent-select">&nbsp;</p>
            <p class="prevent-select">&nbsp;</p>
            <p class="prevent-select">&nbsp;</p>
        </section>
        <footer>
            <p>Have any questions? Contact Mr. Caudle I guess?</p>
            <div id="logout">
                <button onclick="logout_show()" class="lbutton">Logout</button>
                <script>
                    //script for making the logout box appear when logout is pressed
                    function logout_show() {
                        var logbox = document.getElementById('logout_box');
                            if (logbox.style.display ='none') {
                                logbox.style.display = 'inline-block';
                                console.log("logout box is visible")
                            }
                    }
                    //script to log out the user
                    async function logout() {
                      try {
                        // Send the GET request to the logout route
                        const response = await fetch("https://localhost:3000/logout", {
                          method: "GET",  // You can also use "POST" if your backend expects it
                          credentials: "same-origin" // Ensures cookies are sent if needed
                        });
                
                        // After the logout action, redirect to the home page or wherever needed
                        window.location.href = "https://localhost:3000"; 
                      } catch (error) {
                        console.error("Logout failed:", error);
                      }
                    }
                </script>
            </div>
        </footer>
    </body>
</html>
