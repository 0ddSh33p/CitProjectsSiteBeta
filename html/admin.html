<html>
	<head>
        <title>CIT Project</title>
        <link rel="stylesheet" href="../css/master.css" type="text/css">
        <!--CIT logo-->
        <link rel="icon" href="https://raw.githubusercontent.com/0ddSh33p/CitProjectsSiteBeta/main/css/cit_logo.png">
	</head>
	<body>
        <header>
            <h1>Admin</h1>
            <!--CIT logo-->
            <img id="headImg" src="https://raw.githubusercontent.com/0ddSh33p/CitProjectsSiteBeta/main/css/cit_logo.png" height="75px" width="75px">
        </header>
        <section>
            <!--ui box for when admin wants to logout-->
            <div id="logout_box" class="logout-box">
                <label id="logout_label">Are you sure you want to logout?</label><br><br>
                <button onclick="logout()" id="logout_confirm" class="button logout_button">Logout</button>
                <button onclick="log_cancel()" id="logout_cancel" class="button logout_cancel">Cancel</button>
            </div>
            <!--script for making the logout box disappear when cancel is pressed-->
            <script>
                function log_cancel() {
                    var logbox = document.getElementById('logout_box');
                    logbox.style.display='none';
                    console.log("logout box is not visible")
                }
            </script>
            <!--ui box for when admin wants to edit-->
            <div id="edit_box" class="edit-box">
                <button id="edit_confirm" class="button edit_button">Edit</button>
                <button onclick="edit_cancel()" id="edit_cancel" class="button edit_cancel">Cancel</button>
                <form>
                    <input type="text" name="Project Name" placeholder="Project Name"/><br>
                    <input type="text" name="Client Name" placeholder="Client Name"/><br>
                    <label id="edit_label">Advisor</label>
                    <select id="advisors" name="advisors">
                    </select><br>
                    
                    <label id="edit_label">Juniors</label>
                    <div id="list1" class="dropdown-check-list" tabindex="100">
                        <span class="anchor">Select Juniors</span>
                        <p class="prevent-select spacing">&nbsp;</p>
                        <ul id="juniors" class="dropdown-show">
                        </ul>
                    </div><br>
                    <label id="edit_label">Sophomores</label>
                    <div id="list2" class="dropdown-check-list-s" tabindex="100">
                        <span class="anch">Select Sophomores</span>
                        <p class="prevent-select spacing">&nbsp;</p>
                        <ul id="sophomores" class="dropdown-show-s">
                        </ul>
                    </div><br>
                    <br><br>
                </form>
            </div>
            <!--script to put data into the dropdowns and also make it work-->
            <script>
                
                //admin data and putting it into the dropdown
                let data = ["Caudle", "Norris"];
                let list = document.getElementById("advisors");
                for (i = 0; i < data.length; ++i) {
                    let option = document.createElement('option');
                    option.innerText = data[i];
                    list.appendChild(option);
                }

                //junior data and putting it into the dropdown
                let jdata = ["Ram", "Shyam", "Sita", "Gita", "Shyam", "Sita", "Gita", "Shyam", "Sita", "Gita", "Shyam", "Sita", "Gita", "Shyam", "Sita", "Gita", "Shyam", "Sita", "Gita", "Shyam", "Sita", "Gita", "Shyam", "Sita", "Gita", "Shyam", "Sita", "Gita", "Shyam", "Sita", "Gita", "Shyam", "Sita", "Gita", "Shyam", "Sita", "Gita", "Shyam", "Sita", "Gita", "Shyam", "Sita", "Gita","kirby"];
                let jlist = document.getElementById("juniors");
                for (i = 0; i < jdata.length; i++) {
                    let option = document.createElement('li');
                    //create checkbox
                    let checkbox = document.createElement('input');
                    
                    // Assigning the attributes to created checkbox
                    checkbox.type = "checkbox";
                    checkbox.id = i;
        
                    // creating label for checkbox
                    let label = document.createElement('label');
                    label.className = "container";

                    //creating span for checkbox
                    let span = document.createElement('span');
                    span.className = "checkmark";

                    // assigning attributes for the created label tag 
                    label.htmlFor = checkbox.id;
        
                    // appending the created text to the created label tag 
                    label.appendChild(document.createTextNode(jdata[i]));
        
                    // appending the checkbox and label to div
                    option.appendChild(checkbox);
                    option.appendChild(span);
                    label.appendChild(option);
                    jlist.appendChild(label);
                    
                }
        
                //sophomore data and putting it into the dropdown
                let sdata = ["a", "b", "c", "d"];
                let slist = document.getElementById("sophomores");
                for (i = 0; i < sdata.length; i++) {
                    let soption = document.createElement('li');
                    //create checkbox
                    let scheckbox = document.createElement('input');
                    
                    // Assigning the attributes to created checkbox
                    scheckbox.type = "checkbox";
                    scheckbox.id = i+"li";
        
                    // creating label for checkbox
                    let slabel = document.createElement('label');
                    slabel.className = "container";

                    //creating span for checkbox
                    let Sspan = document.createElement('span');
                    Sspan.className = "checkmark";

                    // assigning attributes for the created label tag 
                    slabel.htmlFor = scheckbox.id;
        
                    // appending the created text to the created label tag 
                    slabel.appendChild(document.createTextNode(sdata[i]));
        
                    // appending the checkbox and label to div
                    soption.appendChild(scheckbox);
                    soption.appendChild(Sspan);
                    slabel.appendChild(soption);
                    slist.appendChild(slabel);
                    
                }

                //change if the junior dropdown is visible or not when clicked
                var checkList = document.getElementById('list1');
                var checkBoxes = document.getElementById('juniors');
                checkList.getElementsByClassName('anchor')[0].onclick = function(evt) {
                    if (checkList.classList.contains('visible')) {
                        checkList.classList.remove('visible');
                        checkBoxes.classList.remove('visible');
                        console.log("j is not visible")
                    } else {
                        checkList.classList.add('visible');
                        checkBoxes.classList.add('visible');
                        console.log("j is visible")
                    }
                }

                //change if the sophomore dropdown is visible or not when clicked
                var ScheckList = document.getElementById('list2');
                var ScheckBoxes = document.getElementById('sophomores');
                ScheckList.getElementsByClassName('anch')[0].onclick = function(evt) {
                    if (ScheckList.classList.contains('v')) {
                        ScheckList.classList.remove('v');
                        ScheckBoxes.classList.remove('v');
                        console.log("s is not visible")
                    } else {
                        ScheckList.classList.add('v');
                        ScheckBoxes.classList.add('v');
                        console.log("s is visible")
                    }
                }

                function edit_cancel() {
                    var editbox = document.getElementById('edit_box');
                    editbox.style.display='none';
                    console.log("editout box is not visible")
                }
            </script>
            <!--This is where the projects start-->
            <div id="admin_button">
                <button class="project_tile">Project Placeholder</button><br>
                <a href="#" id="edit">Edit</a><a href="#" class="delete">Delete</a><br>
            </div>
            <div id="admin_button">
                <button class="project_tile">Project Placeholder</button><br>
                <a href="#" id="edit">Edit</a><a href="#" class="delete">Delete</a><br>
            </div>
            <div id="admin_button">
                <button class="project_tile">Project Placeholder</button><br>
                <a href="#" id="edit">Edit</a><a href="#" class="delete">Delete</a><br>
            </div>
            <div id="admin_button">
                <button class="project_tile">Project Placeholder</button><br>
                <a href="#" id="edit">Edit</a><a href="#" class="delete">Delete</a><br>
            </div>
            <div id="admin_button">
                <button class="project_tile">Project Placeholder</button><br>
                <a href="#" id="edit">Edit</a><a href="#" class="delete">Delete</a><br>
            </div>
            <div id="admin_button">
                <button class="project_tile">Project Placeholder</button><br>
                <a href="#" id="edit">Edit</a><a href="#" class="delete">Delete</a><br>
            </div>
            <div id="admin_button">
                <button class="project_tile">Project Placeholder</button><br>
                <a href="#" id="edit">Edit</a><a href="#" class="delete">Delete</a><br>
            </div>
            <div id="admin_button">
                <button class="project_tile">Project Placeholder</button><br>
                <a href="#" id="edit">Edit</a><a href="#" class="delete">Delete</a><br>
            </div>
            <div id="admin_button">
                <button class="project_tile">Project Placeholder</button><br>
                <a href="#" id="edit">Edit</a><a href="#" class="delete">Delete</a><br>
            </div>
            <div id="admin_button">
                <button class="project_tile">Project Placeholder</button><br>
                <a href="#" id="edit">Edit</a><a href="#" class="delete">Delete</a><br>
            </div>
            <div id="add" style="position:fixed">
                <button onclick="edit_show()" class="button add">+</button>
            </div>
            <script>
                function edit_show() {
                        var editbox = document.getElementById('edit_box');
                            if (editbox.style.display ='none') {
                                editbox.style.display = 'inline-block';
                                console.log("editout box is visible")
                            }
                    }
            </script>
            <!--Spaces at the end of the page so that it's possible to scroll down to the bottom of the page and not have the buttons covered up by the footer-->
            <p class="prevent-select">&nbsp;</p>
            <p class="prevent-select">&nbsp;</p>
            <p class="prevent-select">&nbsp;</p>
        </section>
        <footer>
            <p>Have any questions? Contact Mr. Caudle I guess?</p>
            <!--logout button-->
            <div id="logout">
                <button onclick="logout_show()" class="lbutton">Logout</button>
                <script>
                    //script for making the logout box appear when logout is pressed
                    function logout_show() {
                        var logbox = document.getElementById('logout_box');
                            if (logbox.style.display ='none') {
                                logbox.style.display = 'inline-block';
                                console.log("logout box is visible")
                            }
                    }
                    //script to log out the user
                    async function logout() {
                      try {
                        // Send the GET request to the logout route
                        const response = await fetch("https://localhost:3000/logout", {
                          method: "GET",  // You can also use "POST" if your backend expects it
                          credentials: "same-origin" // Ensures cookies are sent if needed
                        });
                
                        // After the logout action, redirect to the home page or wherever needed
                        window.location.href = "https://localhost:3000"; 
                      } catch (error) {
                        console.error("Logout failed:", error);
                      }
                    }
                </script>
            </div>
        </footer>
    </body>
</html>
